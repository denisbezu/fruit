{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////home/denys/www/prestashop1786.denys.tot/site/admin-dev/themes/new-theme/js/components/grid/grid.js","webpack:////home/denys/www/prestashop1786.denys.tot/site/admin-dev/themes/new-theme/js/components/grid/extension/reload-list-extension.js","webpack:////home/denys/www/prestashop1786.denys.tot/site/admin-dev/themes/new-theme/js/components/grid/extension/export-to-sql-manager-extension.js","webpack:////home/denys/www/prestashop1786.denys.tot/site/admin-dev/themes/new-theme/js/app/utils/reset_search.js","webpack:////home/denys/www/prestashop1786.denys.tot/site/admin-dev/themes/new-theme/js/components/grid/extension/filters-reset-extension.js","webpack:////home/denys/www/prestashop1786.denys.tot/site/admin-dev/themes/new-theme/js/app/utils/table-sorting.js","webpack:////home/denys/www/prestashop1786.denys.tot/site/admin-dev/themes/new-theme/js/components/grid/extension/sorting-extension.js","webpack:///./views/_dev/js/admin/fruits/grid.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$","window","Grid","id","this","$container","closest","find","extension","extend","ReloadListExtension","grid","getHeaderContainer","on","location","reload","ExportToSqlManagerExtension","onShowSqlQueryClick","onExportSqlManagerClick","$sqlManagerForm","getId","fillExportForm","$modal","modal","submit","query","getContainer","data","val","getNameFromBreadcrumb","$breadcrumbs","each","item","$breadcrumb","breadcrumbTitle","length","text","concat","init","url","redirectUrl","post","then","assign","FiltersResetExtension","event","resetSearch","currentTarget","TableSorting","table","selector","columns","e","$column","delegateTarget","sortByColumn","getToggledSortDirection","columnName","direction","is","Error","column","getUrl","colName","prefix","URL","href","params","searchParams","set","toString","SortingExtension","$sortableTable","attach","FruitsGrid","fruitsGrid","addExtension","ReloadListActionExtension"],"mappings":";aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,4MCzDrD,IAAOC,EAAKC,OAALD,EAKcE,E,WAMnB,WAAYC,I,4FAAI,SACdC,KAAKD,GAAKA,EACVC,KAAKC,WAAaL,EAAE,IAAD,OAAKI,KAAKD,GAAV,U,4CAQrB,WACE,OAAOC,KAAKD,K,0BAQd,WACE,OAAOC,KAAKC,a,gCAQd,WACE,OAAOD,KAAKC,WAAWC,QAAQ,kBAAkBC,KAAK,qB,0BAQxD,SAAaC,GACXA,EAAUC,OAAOL,W,6PC9CAM,E,2KAMnB,SAAOC,GACLA,EAAKC,qBAAqBC,GAAG,QAAS,uCAAuC,WAC3EZ,OAAOa,SAASC,iB,yPCXtB,IAAOf,EAAKC,OAALD,EAKcgB,E,2KAMnB,SAAOL,GAAM,WACXA,EAAKC,qBAAqBC,GAAG,QAAS,qCAAqC,kBAAM,EAAKI,oBAAoBN,MAC1GA,EAAKC,qBAAqBC,GACxB,QACA,6CACA,kBAAM,EAAKK,wBAAwBP,Q,iCAWvC,SAAoBA,GAClB,IAAMQ,EAAkBnB,EAAE,IAAD,OAAKW,EAAKS,QAAV,kCACzBhB,KAAKiB,eAAeF,EAAiBR,GAErC,IAAMW,EAAStB,EAAE,IAAD,OAAKW,EAAKS,QAAV,kCAChBE,EAAOC,MAAM,QAEbD,EAAOT,GAAG,QAAS,mBAAmB,kBAAMM,EAAgBK,c,qCAU9D,SAAwBb,GACtB,IAAMQ,EAAkBnB,EAAE,IAAD,OAAKW,EAAKS,QAAV,kCAEzBhB,KAAKiB,eAAeF,EAAiBR,GAErCQ,EAAgBK,W,4BAWlB,SAAeL,EAAiBR,GAC9B,IAAMc,EAAQd,EAAKe,eAAenB,KAAK,kBAAkBoB,KAAK,SAE9DR,EAAgBZ,KAAK,wBAAwBqB,IAAIH,GACjDN,EAAgBZ,KAAK,sBAAsBqB,IAAIxB,KAAKyB,2B,mCAUtD,WACE,IAAMC,EAAe9B,EAAE,mBAAmBO,KAAK,oBAC3ChC,EAAO,GAgBX,OAdAuD,EAAaC,MAAK,SAAC/D,EAAGgE,GACpB,IAAMC,EAAcjC,EAAEgC,GAEhBE,EAAkBD,EAAY1B,KAAK,KAAK4B,OAAS,EACnDF,EAAY1B,KAAK,KAAK6B,OACtBH,EAAYG,OAEZ7D,EAAK4D,OAAS,IAChB5D,EAAOA,EAAK8D,OAAO,QAGrB9D,EAAOA,EAAK8D,OAAOH,MAGd3D,O,mFCxFJyB,EAAKC,OAALD,EAMQsC,EAJF,SAAqBC,EAAKC,GACrCxC,EAAEyC,KAAKF,GAAKG,MAAK,kBAAMzC,OAAOa,SAAS6B,OAAOH,O,sKCLhD,IAAOxC,EAAKC,OAALD,EAKc4C,E,2KAMnB,SAAOjC,GACLA,EAAKe,eAAeb,GAAG,QAAS,oBAAoB,SAACgC,GACnDC,EAAY9C,EAAE6C,EAAME,eAAepB,KAAK,OAAQ3B,EAAE6C,EAAME,eAAepB,KAAK,qB,yPCflF,IAAO3B,EAAKC,OAALD,EAwFQgD,E,WA9Eb,WAAYC,I,4FAAO,SACjB7C,KAAK8C,SAAW,sBAChB9C,KAAK+C,QAAUnD,EAAEiD,GAAO1C,KAAKH,KAAK8C,U,6CAMpC,WAAS,WACP9C,KAAK+C,QAAQtC,GAAG,SAAS,SAACuC,GACxB,IAAMC,EAAUrD,EAAEoD,EAAEE,gBACpB,EAAKC,aAAaF,EAAS,EAAKG,wBAAwBH,S,oBAS5D,SAAOI,EAAYC,GACjB,IAAML,EAAUjD,KAAK+C,QAAQQ,GAAb,+BAAwCF,EAAxC,OAEhB,IAAKJ,EACH,MAAM,IAAIO,MAAJ,0BAA6BH,EAA7B,sBAGRrD,KAAKmD,aAAaF,EAASK,K,0BAS7B,SAAaG,EAAQH,GACnBzD,OAAOa,SAAWV,KAAK0D,OACrBD,EAAOlC,KAAK,eACG,SAAd+B,EAAwB,OAAS,MAClCG,EAAOlC,KAAK,iB,qCAUhB,SAAwBkC,GACtB,MAAwC,QAAjCA,EAAOlC,KAAK,iBAA6B,OAAS,Q,oBAW3D,SAAOoC,EAASL,EAAWM,GACzB,IAAMzB,EAAM,IAAI0B,IAAIhE,OAAOa,SAASoD,MAC9BC,EAAS5B,EAAI6B,aAUnB,OARIJ,GACFG,EAAOE,IAAP,UAAcL,EAAd,aAAiCD,GACjCI,EAAOE,IAAP,UAAcL,EAAd,eAAmCN,KAEnCS,EAAOE,IAAI,UAAWN,GACtBI,EAAOE,IAAI,YAAaX,IAGnBnB,EAAI+B,gB,6PC/EMC,E,2KAMnB,SAAO5D,GACL,IAAM6D,EAAiB7D,EAAKe,eAAenB,KAAK,eAEhD,IAAIyC,EAAawB,GAAgBC,c,yPCjCrC,IAAMzE,EAAIC,OAAOD,EAEX0E,E,yKACJ,WACE,IAAMC,EAAa,IAAIzE,EAAK,UAE5ByE,EAAWC,aAAa,IAAIC,GAC5BF,EAAWC,aAAa,IAAI5D,GAC5B2D,EAAWC,aAAa,IAAIhC,GAC5B+B,EAAWC,aAAa,IAAIL,Q,mFAIhCvE,GAAE,YACmB,IAAI0E,GACZpC","file":"js/admin/fruits/grid.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * Copyright since 2007 PrestaShop SA and Contributors\n * PrestaShop is an International Registered Trademark & Property of PrestaShop SA\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.md.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://devdocs.prestashop.com/ for more information.\n *\n * @author    PrestaShop SA and Contributors <contact@prestashop.com>\n * @copyright Since 2007 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n */\n\nconst {$} = window;\n\n/**\n * Class is responsible for handling Grid events\n */\nexport default class Grid {\n  /**\n   * Grid id\n   *\n   * @param {string} id\n   */\n  constructor(id) {\n    this.id = id;\n    this.$container = $(`#${this.id}_grid`);\n  }\n\n  /**\n   * Get grid id\n   *\n   * @returns {string}\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * Get grid container\n   *\n   * @returns {jQuery}\n   */\n  getContainer() {\n    return this.$container;\n  }\n\n  /**\n   * Get grid header container\n   *\n   * @returns {jQuery}\n   */\n  getHeaderContainer() {\n    return this.$container.closest('.js-grid-panel').find('.js-grid-header');\n  }\n\n  /**\n   * Extend grid with external extensions\n   *\n   * @param {object} extension\n   */\n  addExtension(extension) {\n    extension.extend(this);\n  }\n}\n","/**\n * Copyright since 2007 PrestaShop SA and Contributors\n * PrestaShop is an International Registered Trademark & Property of PrestaShop SA\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.md.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://devdocs.prestashop.com/ for more information.\n *\n * @author    PrestaShop SA and Contributors <contact@prestashop.com>\n * @copyright Since 2007 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n */\n\n/**\n * Class ReloadListExtension extends grid with \"List reload\" action\n */\nexport default class ReloadListExtension {\n  /**\n   * Extend grid\n   *\n   * @param {Grid} grid\n   */\n  extend(grid) {\n    grid.getHeaderContainer().on('click', '.js-common_refresh_list-grid-action', () => {\n      window.location.reload();\n    });\n  }\n}\n","/**\n * Copyright since 2007 PrestaShop SA and Contributors\n * PrestaShop is an International Registered Trademark & Property of PrestaShop SA\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.md.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://devdocs.prestashop.com/ for more information.\n *\n * @author    PrestaShop SA and Contributors <contact@prestashop.com>\n * @copyright Since 2007 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n */\n\nconst {$} = window;\n\n/**\n * Class ExportToSqlManagerExtension extends grid with exporting query to SQL Manager\n */\nexport default class ExportToSqlManagerExtension {\n  /**\n   * Extend grid\n   *\n   * @param {Grid} grid\n   */\n  extend(grid) {\n    grid.getHeaderContainer().on('click', '.js-common_show_query-grid-action', () => this.onShowSqlQueryClick(grid));\n    grid.getHeaderContainer().on(\n      'click',\n      '.js-common_export_sql_manager-grid-action',\n      () => this.onExportSqlManagerClick(grid),\n    );\n  }\n\n  /**\n   * Invoked when clicking on the \"show sql query\" toolbar button\n   *\n   * @param {Grid} grid\n   *\n   * @private\n   */\n  onShowSqlQueryClick(grid) {\n    const $sqlManagerForm = $(`#${grid.getId()}_common_show_query_modal_form`);\n    this.fillExportForm($sqlManagerForm, grid);\n\n    const $modal = $(`#${grid.getId()}_grid_common_show_query_modal`);\n    $modal.modal('show');\n\n    $modal.on('click', '.btn-sql-submit', () => $sqlManagerForm.submit());\n  }\n\n  /**\n   * Invoked when clicking on the \"export to the sql query\" toolbar button\n   *\n   * @param {Grid} grid\n   *\n   * @private\n   */\n  onExportSqlManagerClick(grid) {\n    const $sqlManagerForm = $(`#${grid.getId()}_common_show_query_modal_form`);\n\n    this.fillExportForm($sqlManagerForm, grid);\n\n    $sqlManagerForm.submit();\n  }\n\n  /**\n   * Fill export form with SQL and it's name\n   *\n   * @param {jQuery} $sqlManagerForm\n   * @param {Grid} grid\n   *\n   * @private\n   */\n  fillExportForm($sqlManagerForm, grid) {\n    const query = grid.getContainer().find('.js-grid-table').data('query');\n\n    $sqlManagerForm.find('textarea[name=\"sql\"]').val(query);\n    $sqlManagerForm.find('input[name=\"name\"]').val(this.getNameFromBreadcrumb());\n  }\n\n  /**\n   * Get export name from page's breadcrumb\n   *\n   * @return {String}\n   *\n   * @private\n   */\n  getNameFromBreadcrumb() {\n    const $breadcrumbs = $('.header-toolbar').find('.breadcrumb-item');\n    let name = '';\n\n    $breadcrumbs.each((i, item) => {\n      const $breadcrumb = $(item);\n\n      const breadcrumbTitle = $breadcrumb.find('a').length > 0\n        ? $breadcrumb.find('a').text()\n        : $breadcrumb.text();\n\n      if (name.length > 0) {\n        name = name.concat(' > ');\n      }\n\n      name = name.concat(breadcrumbTitle);\n    });\n\n    return name;\n  }\n}\n","/**\n * Copyright since 2007 PrestaShop SA and Contributors\n * PrestaShop is an International Registered Trademark & Property of PrestaShop SA\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.md.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://devdocs.prestashop.com/ for more information.\n *\n * @author    PrestaShop SA and Contributors <contact@prestashop.com>\n * @copyright Since 2007 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n */\n\n/**\n * Send a Post Request to reset search Action.\n */\n\nconst {$} = window;\n\nconst init = function resetSearch(url, redirectUrl) {\n  $.post(url).then(() => window.location.assign(redirectUrl));\n};\n\nexport default init;\n","/**\n * Copyright since 2007 PrestaShop SA and Contributors\n * PrestaShop is an International Registered Trademark & Property of PrestaShop SA\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.md.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://devdocs.prestashop.com/ for more information.\n *\n * @author    PrestaShop SA and Contributors <contact@prestashop.com>\n * @copyright Since 2007 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n */\n\nimport resetSearch from '@app/utils/reset_search';\n\nconst {$} = window;\n\n/**\n * Class FiltersResetExtension extends grid with filters resetting\n */\nexport default class FiltersResetExtension {\n  /**\n   * Extend grid\n   *\n   * @param {Grid} grid\n   */\n  extend(grid) {\n    grid.getContainer().on('click', '.js-reset-search', (event) => {\n      resetSearch($(event.currentTarget).data('url'), $(event.currentTarget).data('redirect'));\n    });\n  }\n}\n","/**\n * Copyright since 2007 PrestaShop SA and Contributors\n * PrestaShop is an International Registered Trademark & Property of PrestaShop SA\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.md.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://devdocs.prestashop.com/ for more information.\n *\n * @author    PrestaShop SA and Contributors <contact@prestashop.com>\n * @copyright Since 2007 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n */\n\nconst {$} = window;\n\n/**\n * Makes a table sortable by columns.\n * This forces a page reload with more query parameters.\n */\nclass TableSorting {\n  /**\n   * @param {jQuery} table\n   */\n  constructor(table) {\n    this.selector = '.ps-sortable-column';\n    this.columns = $(table).find(this.selector);\n  }\n\n  /**\n   * Attaches the listeners\n   */\n  attach() {\n    this.columns.on('click', (e) => {\n      const $column = $(e.delegateTarget);\n      this.sortByColumn($column, this.getToggledSortDirection($column));\n    });\n  }\n\n  /**\n   * Sort using a column name\n   * @param {string} columnName\n   * @param {string} direction \"asc\" or \"desc\"\n   */\n  sortBy(columnName, direction) {\n    const $column = this.columns.is(`[data-sort-col-name=\"${columnName}\"]`);\n\n    if (!$column) {\n      throw new Error(`Cannot sort by \"${columnName}\": invalid column`);\n    }\n\n    this.sortByColumn($column, direction);\n  }\n\n  /**\n   * Sort using a column element\n   * @param {jQuery} column\n   * @param {string} direction \"asc\" or \"desc\"\n   * @private\n   */\n  sortByColumn(column, direction) {\n    window.location = this.getUrl(\n      column.data('sortColName'),\n      (direction === 'desc') ? 'desc' : 'asc',\n      column.data('sortPrefix'),\n    );\n  }\n\n  /**\n   * Returns the inverted direction to sort according to the column's current one\n   * @param {jQuery} column\n   * @return {string}\n   * @private\n   */\n  getToggledSortDirection(column) {\n    return column.data('sortDirection') === 'asc' ? 'desc' : 'asc';\n  }\n\n  /**\n   * Returns the url for the sorted table\n   * @param {string} colName\n   * @param {string} direction\n   * @param {string} prefix\n   * @return {string}\n   * @private\n   */\n  getUrl(colName, direction, prefix) {\n    const url = new URL(window.location.href);\n    const params = url.searchParams;\n\n    if (prefix) {\n      params.set(`${prefix}[orderBy]`, colName);\n      params.set(`${prefix}[sortOrder]`, direction);\n    } else {\n      params.set('orderBy', colName);\n      params.set('sortOrder', direction);\n    }\n\n    return url.toString();\n  }\n}\n\nexport default TableSorting;\n","/**\n * Copyright since 2007 PrestaShop SA and Contributors\n * PrestaShop is an International Registered Trademark & Property of PrestaShop SA\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.md.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to https://devdocs.prestashop.com/ for more information.\n *\n * @author    PrestaShop SA and Contributors <contact@prestashop.com>\n * @copyright Since 2007 PrestaShop SA and Contributors\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n */\n\nimport TableSorting from '@app/utils/table-sorting';\n\n/**\n * Class ReloadListExtension extends grid with \"List reload\" action\n */\nexport default class SortingExtension {\n  /**\n   * Extend grid\n   *\n   * @param {Grid} grid\n   */\n  extend(grid) {\n    const $sortableTable = grid.getContainer().find('table.table');\n\n    new TableSorting($sortableTable).attach();\n  }\n}\n","import Grid from \"@components/grid/grid\";\nimport ReloadListActionExtension from \"@components/grid/extension/reload-list-extension\";\nimport ExportToSqlManagerExtension from \"@components/grid/extension/export-to-sql-manager-extension\";\nimport FiltersResetExtension from \"@components/grid/extension/filters-reset-extension\";\nimport SortingExtension from \"@components/grid/extension/sorting-extension\";\n\nconst $ = window.$;\n\nclass FruitsGrid {\n  init() {\n    const fruitsGrid = new Grid('fruits');\n\n    fruitsGrid.addExtension(new ReloadListActionExtension());\n    fruitsGrid.addExtension(new ExportToSqlManagerExtension());\n    fruitsGrid.addExtension(new FiltersResetExtension());\n    fruitsGrid.addExtension(new SortingExtension());\n  }\n}\n\n$(() => {\n  const fruitsGrid = new FruitsGrid();\n  fruitsGrid.init();\n});\n"],"sourceRoot":""}